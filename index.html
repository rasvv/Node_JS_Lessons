<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Socket</title>
    <script src="https://cdn.socket.io/4.2.0/socket.io.min.js" integrity="sha384-PiBR5S00EtOj2Lto9Uu81cmoyZqR57XcOna1oAuVuIEjzj0wpqDVfD0JA9eXlRsj" crossorigin="anonymous"></script>
</head>
<body>
	<div class="messageblock">
		<input class="input" id="input1" type="text" autofocus>
		<button class="button" id="button1">Send</button>
		<div class="messages" id="messages1"></div>
	</div>

	<script>
	    const socket = io('localhost:8082')
	    const messageOutput = document.getElementById('messages')
	    const sendButton = document.getElementsByClassName('button')
	    const input = document.getElementsByClassName('input')


			console.log(sendButton);


     socket.on('connect', () => {
	        console.log('connected')
	    });
			
	    socket.emit('client-msg', 'test');

	    sendButton.onclick = () => {
				console.log('input[id].value '+id +' '+ input[id].value)
				console.log('messageOutput[id] '+id +' '+ messageOutput[id])
	        const data = {
	            message: input[id].value,
							id: id,
	        };

	        socket.emit('client-msg', data)
	    }

	    socket.on('server-msg', ({ message, nick, id }) => {
				// console.log(messageOutput);
				// messageOutput[id].insertAdjacentHTML('beforeend', `<p>Сообщение: ${message}</p><p>Автор: ${nick}</p>`)
	    })
	</script>
</body>
<style>
	body {
		display: grid;
		grid-template-columns: repeat(8, 1fr);
	}
	.messages {
		border: 1px solid #000;
		height: 50px;
	}

</style>
</html>
